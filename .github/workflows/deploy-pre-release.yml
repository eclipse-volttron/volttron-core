---
name: Deploy Pre-Release Artifacts

on:
  push:
    branches:
      - develop_test

defaults:
  run:
    shell: bash

env:
  LANG: en_US.utf-8
  LC_ALL: en_US.utf-8
  PYTHON_VERSION: '3.10'
  OWNER: eclipse-volttron
  POETRY_VERSION: '2.1'

jobs:
  test-job:
    runs-on: ubuntu-22.04
    steps:
      - run: echo "On direct push Current branch is ${{github.ref_name}} labels  ${{github.event.label.name}}"

      - name: test
        if: startsWith(github.ref_name, 'releases/') || github.ref_name == 'main' || contains(github.event.issue.labels.*.name, 'documentation')
        run: echo " Skipping pre-release as  source is ${{github.ref_name}} or labels ${{github.event.issue.labels.*.name}} contains 'documentation'  "

      - name: else test
        if: ${{ ! startsWith(github.ref_name, 'releases/') && github.ref_name != 'main' && ! contains(github.event.issue.labels.*.name, 'documentation') }}
        run: echo "calling pre-release"
#  test-with-latest-volttron:
#    uses: schandrika/github-tooling/.github/workflows/deploy-pre-release.yml@pre_release_update
